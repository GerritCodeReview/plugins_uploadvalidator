{
  "comments": [
    {
      "key": {
        "uuid": "2864a22d_942664d5",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/ConfigFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 20,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T12:16:39Z",
      "side": 1,
      "message": "This was added for the tests?",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_7587486a",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/ConfigFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 20,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T13:11:51Z",
      "side": 1,
      "message": "Yes, otherwise it wouldn\u0027t be testable :-(",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_1544145d",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/PluginConfigWithInheritanceFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 27,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T12:16:39Z",
      "side": 1,
      "message": "I guess the only justification of these class is to have a tests with FakeConfig?",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_558ccc8a",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/PluginConfigWithInheritanceFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T13:11:51Z",
      "side": 1,
      "message": "Yes.",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_753908f1",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/PluginConfigWithInheritanceFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 40,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T12:16:39Z",
      "side": 1,
      "message": "The real PluginConfigFactory class, that this class iOS delegating to have another dozen methods that are not used now, but could be added later. And thus this delegation would need to be extended here.",
      "range": {
        "startLine": 40,
        "startChar": 2,
        "endLine": 40,
        "endChar": 54
      },
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_b580c04f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/PluginConfigWithInheritanceFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 40,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T13:11:51Z",
      "side": 1,
      "message": "Yes, but we don\u0027t need them now. I don\u0027t typically write code that isn\u0027t needed :-)",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2864a22d_d4fa9cc0",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/ValidatorConfig.java",
        "patchSetId": 10
      },
      "lineNbr": 37,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T16:09:50Z",
      "side": 1,
      "message": "Nit: on its own line.",
      "range": {
        "startLine": 37,
        "startChar": 42,
        "endLine": 37,
        "endChar": 63
      },
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2864a22d_342cb069",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/ValidatorConfig.java",
        "patchSetId": 10
      },
      "lineNbr": 37,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T22:50:29Z",
      "side": 1,
      "message": "Done",
      "range": {
        "startLine": 37,
        "startChar": 42,
        "endLine": 37,
        "endChar": 63
      },
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2864a22d_b4dc4055",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/ValidatorConfig.java",
        "patchSetId": 10
      },
      "lineNbr": 51,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T16:43:48Z",
      "side": 1,
      "message": "Wouldn\u0027t make more sense to swap the order and check for branch matching before checking for kip-configuration?If it\u0027s restricted to one specific branch and we are on different branch, why to bother checking user, groups, and other skip criteria, if I already know that the check is never applied because of branch mismatch?\n\n  [plugin \"uploadvalidator\"]\n  branch \u003d refs/heads/stable-42\n  skipGroup\u003dadmin\n\nSay 10k users are uploading 1k changes per day and 99% of them go to master, why should I perform all the group membership tests if i already know that the checks should be only be done on stable-42?",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_b59a808e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/uploadvalidator/ValidatorConfig.java",
        "patchSetId": 10
      },
      "lineNbr": 51,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T22:50:29Z",
      "side": 1,
      "message": "It all depends on how complex is the branch matching: simple string or regex? But yes, I could check it at the beginning and put into the first conditional.",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_f5151868",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/FakeConfigFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 1,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T12:16:39Z",
      "side": 1,
      "message": "2017. Here and in all other added new test files.",
      "range": {
        "startLine": 1,
        "startChar": 17,
        "endLine": 1,
        "endChar": 21
      },
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2864a22d_34b2f049",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/FakeConfigFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 1,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T13:11:51Z",
      "side": 1,
      "message": "Oops, let me update all of them.",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_f5fd18bb",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/FakeConfigFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 1,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T16:20:55Z",
      "side": 1,
      "message": "You said you wanted fixed that.",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2864a22d_74e3c819",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/FakeConfigFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 1,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T16:37:47Z",
      "side": 1,
      "message": "Ok, so those are the final bits. Will do them tonights",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2864a22d_d4d3bc40",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/FakeConfigFactory.java",
        "patchSetId": 10
      },
      "lineNbr": 1,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T22:50:29Z",
      "side": 1,
      "message": "Done",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_d530dc0b",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/SkipValidationTest.java",
        "patchSetId": 10
      },
      "lineNbr": 24,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T12:16:39Z",
      "side": 1,
      "message": "This is great to have tests. I wonder if the tests could be introduced already in previous change: \"Make uploadvalidator branch aware\", that wasn\u0027t merged yet, where branch was added to the configuration section. In this change it could be extended with the exclusion feature.\n\nOne problem with this test, it isn\u0027t complete acceptance test with booting of entire Gerrit, and that\u0027s why the project inheritance is not tested here. I think it is sufficient for now, but that could be easily changed: there is new facility, I added recently, with LightweightPluginDaemonTest base class.",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_957dc485",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/SkipValidationTest.java",
        "patchSetId": 10
      },
      "lineNbr": 24,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T13:11:51Z",
      "side": 1,
      "message": "Yes, this is unit-test of this single functionality.\nIt would be nice to start an acceptance test suite as well in a follow-up change.",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_353f90da",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/SkipValidationTest.java",
        "patchSetId": 10
      },
      "lineNbr": 28,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T12:16:39Z",
      "side": 1,
      "message": "This and all methods below test new feature. Can we add tests for base version as well, with and without branch aware feature (If you prefer to not move theses tests in previous change)?",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_f57a3889",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/SkipValidationTest.java",
        "patchSetId": 10
      },
      "lineNbr": 28,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T13:11:51Z",
      "side": 1,
      "message": "Yes, but not as part of this change but rather of the previous one.\nTypically it is best to have code + test in the same change for consistency.",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_d5fa9cc0",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/SkipValidationTest.java",
        "patchSetId": 10
      },
      "lineNbr": 28,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-01-20T16:20:55Z",
      "side": 1,
      "message": "You said you wouldn\u0027t add the tests for branch aware config here, but in the prevous change? Misunderstanding?",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486b96ff_f5d6b832",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/uploadvalidator/SkipValidationTest.java",
        "patchSetId": 10
      },
      "lineNbr": 28,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2017-01-20T22:50:29Z",
      "side": 1,
      "message": "Yes, this change will just keep the current ones.",
      "revId": "6706eac62406d49de0b9c8f85038785eb638fa2a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}